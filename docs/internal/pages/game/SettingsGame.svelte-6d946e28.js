var Me=Object.defineProperty,Ne=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ce=(s,e,i)=>e in s?Me(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,C=(s,e)=>{for(var i in e||(e={}))Ie.call(e,i)&&ce(s,i,e[i]);if(fe)for(var i of fe(e))je.call(e,i)&&ce(s,i,e[i]);return s},x=(s,e)=>Ne(s,Se(e));import{S as X,i as z,s as R,e as B,t as te,k as P,w as T,V,c as M,a as k,h as le,d as m,m as q,x as N,W as G,b as f,g as y,J as p,y as S,N as K,E as U,q as v,o as b,B as I,X as ee,j as se,O as J,P as Q,Q as W,l as j,L as ae,_ as Pe,$ as qe,a0 as _e,a1 as Le,n as Y,M as Be,p as Z,T as De}from"../../chunks/index-8b47548d.js";import{B as Ve,g as Ge}from"../../chunks/index-21671d0b.js";import{w as Oe}from"../../chunks/index-c168512a.js";import{U as Ae,I as He,S as ie,a as ue}from"../../chunks/InputNumber-45a74dd3.js";function Ce(){const{subscribe:s,update:e}=Oe([]);function i(a,u){e(l=>{var n;return[...l,{id:((n=l[l.length-1])==null?void 0:n.id)+1||0,name:a,color:u,isTurn:l.length===0}]})}function t(a){e(u=>u.filter(({id:l})=>a!==l))}return{subscribe:s,add:i,remove:t}}const oe=Ce();function Ue(s){let e,i,t,a,u,l,n,r,o,c,_,h,d,g;return l=new Ae({props:{color:s[1],name:s[0]}}),{c(){e=B("div"),i=B("span"),t=te(s[0]),a=P(),u=B("div"),T(l.$$.fragment),n=P(),r=B("button"),o=V("svg"),c=V("path"),_=V("path"),this.h()},l(E){e=M(E,"DIV",{class:!0});var $=k(e);i=M($,"SPAN",{class:!0});var L=k(i);t=le(L,s[0]),L.forEach(m),a=q($),u=M($,"DIV",{class:!0});var D=k(u);N(l.$$.fragment,D),n=q(D),r=M(D,"BUTTON",{class:!0});var O=k(r);o=G(O,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var w=k(o);c=G(w,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(c).forEach(m),_=G(w,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(_).forEach(m),w.forEach(m),O.forEach(m),D.forEach(m),$.forEach(m),this.h()},h(){f(i,"class","user_name svelte-8osvux"),f(c,"d","M8 8.21948L16 15.7805"),f(c,"stroke","#2B2B2B"),f(c,"stroke-linecap","round"),f(c,"stroke-linejoin","round"),f(_,"d","M16 8.21948L8.00001 15.7805"),f(_,"stroke","#2B2B2B"),f(_,"stroke-linecap","round"),f(_,"stroke-linejoin","round"),f(o,"width","24"),f(o,"height","24"),f(o,"viewBox","0 0 24 24"),f(o,"fill","none"),f(o,"xmlns","http://www.w3.org/2000/svg"),f(r,"class","svelte-8osvux"),f(u,"class","user_ui svelte-8osvux"),f(e,"class","user svelte-8osvux")},m(E,$){y(E,e,$),p(e,i),p(i,t),p(e,a),p(e,u),S(l,u,null),p(u,n),p(u,r),p(r,o),p(o,c),p(o,_),h=!0,d||(g=K(r,"click",s[2]),d=!0)},p:U,i(E){h||(v(l.$$.fragment,E),h=!0)},o(E){b(l.$$.fragment,E),h=!1},d(E){E&&m(e),I(l),d=!1,g()}}}function Xe(s,e,i){let{player:t={id:null,name:null,color:null}}=e;const{id:a,name:u,color:l}=t;function n(){oe.remove(a)}return s.$$set=r=>{"player"in r&&i(3,t=r.player)},[u,l,n,t]}class ze extends X{constructor(e){super(),z(this,e,Xe,Ue,R,{player:3})}}function re(){const i=Math.pow(16,Math.min(6,8)-1),t=Math.pow(16,Math.min(6,8))-1;let u=(Math.floor(Math.random()*(t-i+1))+i).toString(16);for(;u.length<6;)u=u+re();return u}function Re(s){let e,i,t,a;return{c(){e=B("div"),i=B("input"),this.h()},l(u){e=M(u,"DIV",{class:!0,style:!0});var l=k(e);i=M(l,"INPUT",{id:!0,type:!0,class:!0}),l.forEach(m),this.h()},h(){f(i,"id",s[1]),f(i,"type","color"),f(i,"class","svelte-huv6aq"),f(e,"class","wrapper svelte-huv6aq"),f(e,"style",s[2])},m(u,l){y(u,e,l),p(e,i),ee(i,s[0]),t||(a=K(i,"input",s[3]),t=!0)},p(u,[l]){l&2&&f(i,"id",u[1]),l&1&&ee(i,u[0]),l&4&&f(e,"style",u[2])},i:U,o:U,d(u){u&&m(e),t=!1,a()}}}function Fe(s,e,i){let{id:t=Math.random()}=e,{style:a=""}=e,{value:u}=e;function l(){u=this.value,i(0,u)}return s.$$set=n=>{"id"in n&&i(1,t=n.id),"style"in n&&i(2,a=n.style),"value"in n&&i(0,u=n.value)},[u,t,a,l]}class Je extends X{constructor(e){super(),z(this,e,Fe,Re,R,{id:1,style:2,value:0})}}function he(s){let e,i;return{c(){e=B("label"),i=te(s[2]),this.h()},l(t){e=M(t,"LABEL",{class:!0,for:!0});var a=k(e);i=le(a,s[2]),a.forEach(m),this.h()},h(){f(e,"class","label svelte-1q6jnob"),f(e,"for",s[1])},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&4&&se(i,t[2]),a&2&&f(e,"for",t[1])},d(t){t&&m(e)}}}function Qe(s){let e,i,t,a,u,l=s[2]&&he(s);return{c(){e=B("div"),l&&l.c(),i=P(),t=B("input"),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=k(e);l&&l.l(r),i=q(r),t=M(r,"INPUT",{id:!0,type:!0,placeholder:!0,"aria-placeholder":!0,class:!0}),r.forEach(m),this.h()},h(){f(t,"id",s[1]),f(t,"type","text"),f(t,"placeholder",s[3]),f(t,"aria-placeholder",s[3]),f(t,"class","svelte-1q6jnob"),f(e,"class","input-wrapper svelte-1q6jnob")},m(n,r){y(n,e,r),l&&l.m(e,null),p(e,i),p(e,t),ee(t,s[0]),a||(u=K(t,"input",s[4]),a=!0)},p(n,[r]){n[2]?l?l.p(n,r):(l=he(n),l.c(),l.m(e,i)):l&&(l.d(1),l=null),r&2&&f(t,"id",n[1]),r&8&&f(t,"placeholder",n[3]),r&8&&f(t,"aria-placeholder",n[3]),r&1&&t.value!==n[0]&&ee(t,n[0])},i:U,o:U,d(n){n&&m(e),l&&l.d(),a=!1,u()}}}function We(s,e,i){let{id:t=Math.random()}=e,{label:a=null}=e,{placeholder:u=""}=e,{value:l=""}=e;function n(){l=this.value,i(0,l)}return s.$$set=r=>{"id"in r&&i(1,t=r.id),"label"in r&&i(2,a=r.label),"placeholder"in r&&i(3,u=r.placeholder),"value"in r&&i(0,l=r.value)},[l,t,a,u,n]}class Ke extends X{constructor(e){super(),z(this,e,We,Qe,R,{id:1,label:2,placeholder:3,value:0})}}function Ye(s){let e,i,t,a,u,l,n,r,o,c,_,h,d,g,E;function $(w){s[3](w)}let L={id:"userName",placeholder:"\u0418\u043C\u044F \u0438\u0433\u0440\u043E\u043A\u0430"};s[0]!==void 0&&(L.value=s[0]),i=new Ke({props:L}),J.push(()=>Q(i,"value",$));function D(w){s[4](w)}let O={id:"userColor"};return s[1]!==void 0&&(O.value=s[1]),l=new Je({props:O}),J.push(()=>Q(l,"value",D)),{c(){e=B("div"),T(i.$$.fragment),a=P(),u=B("div"),T(l.$$.fragment),r=P(),o=B("button"),c=V("svg"),_=V("path"),h=V("path"),this.h()},l(w){e=M(w,"DIV",{class:!0});var A=k(e);N(i.$$.fragment,A),a=q(A),u=M(A,"DIV",{class:!0});var H=k(u);N(l.$$.fragment,H),r=q(H),o=M(H,"BUTTON",{class:!0});var F=k(o);c=G(F,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var ne=k(c);_=G(ne,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(_).forEach(m),h=G(ne,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(h).forEach(m),ne.forEach(m),F.forEach(m),H.forEach(m),A.forEach(m),this.h()},h(){f(_,"d","M11.4817 15.3479L18.8996 8.06984"),f(_,"stroke","#2B2B2B"),f(_,"stroke-linecap","round"),f(_,"stroke-linejoin","round"),f(h,"d","M7.10983 10.7586L11.4316 15.3"),f(h,"stroke","#2B2B2B"),f(h,"stroke-linecap","round"),f(h,"stroke-linejoin","round"),f(c,"width","24"),f(c,"height","24"),f(c,"viewBox","0 0 24 24"),f(c,"fill","none"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(o,"class","input-block_add svelte-1gmbrzv"),f(u,"class","input-block_ui svelte-1gmbrzv"),f(e,"class","input-block svelte-1gmbrzv")},m(w,A){y(w,e,A),S(i,e,null),p(e,a),p(e,u),S(l,u,null),p(u,r),p(u,o),p(o,c),p(c,_),p(c,h),d=!0,g||(E=K(o,"click",s[2]),g=!0)},p(w,[A]){const H={};!t&&A&1&&(t=!0,H.value=w[0],W(()=>t=!1)),i.$set(H);const F={};!n&&A&2&&(n=!0,F.value=w[1],W(()=>n=!1)),l.$set(F)},i(w){d||(v(i.$$.fragment,w),v(l.$$.fragment,w),d=!0)},o(w){b(i.$$.fragment,w),b(l.$$.fragment,w),d=!1},d(w){w&&m(e),I(i),I(l),g=!1,E()}}}function Ze(s,e,i){let t="",a=`#${re()}`;function u(){!t||(oe.add(t,a),i(0,t=""),i(1,a=`#${re()}`))}function l(r){t=r,i(0,t)}function n(r){a=r,i(1,a)}return[t,a,u,l,n]}class xe extends X{constructor(e){super(),z(this,e,Ze,Ye,R,{})}}function me(s,e,i){const t=s.slice();return t[6]=e[i],t}function de(s){let e,i;return{c(){e=B("label"),i=te(s[2]),this.h()},l(t){e=M(t,"LABEL",{class:!0,for:!0});var a=k(e);i=le(a,s[2]),a.forEach(m),this.h()},h(){f(e,"class","label svelte-1r2qk57"),f(e,"for",s[1])},m(t,a){y(t,e,a),p(e,i)},p(t,a){a&4&&se(i,t[2]),a&2&&f(e,"for",t[1])},d(t){t&&m(e)}}}function pe(s){let e=[],i=new Map,t,a=s[3];const u=l=>l[6].id;for(let l=0;l<a.length;l+=1){let n=me(s,a,l),r=u(n);i.set(r,e[l]=ge(r,n))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=j()},l(l){for(let n=0;n<e.length;n+=1)e[n].l(l);t=j()},m(l,n){for(let r=0;r<e.length;r+=1)e[r].m(l,n);y(l,t,n)},p(l,n){n&8&&(a=l[3],e=ae(e,n,u,1,l,a,i,t.parentNode,Pe,ge,t,me))},d(l){for(let n=0;n<e.length;n+=1)e[n].d(l);l&&m(t)}}}function ge(s,e){let i,t=e[6].name+"",a,u;return{key:s,first:null,c(){i=B("option"),a=te(t),this.h()},l(l){i=M(l,"OPTION",{});var n=k(i);a=le(n,t),n.forEach(m),this.h()},h(){i.__value=u=e[6].id,i.value=i.__value,this.first=i},m(l,n){y(l,i,n),p(i,a)},p(l,n){e=l,n&8&&t!==(t=e[6].name+"")&&se(a,t),n&8&&u!==(u=e[6].id)&&(i.__value=u,i.value=i.__value)},d(l){l&&m(i)}}}function et(s){let e,i,t,a,u,l,n,r,o,c,_=s[2]&&de(s),h=s[3]&&pe(s);return{c(){e=B("div"),_&&_.c(),i=P(),t=B("select"),h&&h.c(),a=P(),u=V("svg"),l=V("rect"),n=V("path"),r=V("path"),this.h()},l(d){e=M(d,"DIV",{class:!0,style:!0});var g=k(e);_&&_.l(g),i=q(g),t=M(g,"SELECT",{id:!0,class:!0});var E=k(t);h&&h.l(E),E.forEach(m),a=q(g),u=G(g,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var $=k(u);l=G($,"rect",{width:!0,height:!0,fill:!0}),k(l).forEach(m),n=G($,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(n).forEach(m),r=G($,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(r).forEach(m),$.forEach(m),g.forEach(m),this.h()},h(){f(t,"id",s[1]),f(t,"class","svelte-1r2qk57"),s[0]===void 0&&qe(()=>s[5].call(t)),f(l,"width","44"),f(l,"height","44"),f(l,"fill","white"),f(n,"d","M19.5076 18L26.7857 25.4178"),f(n,"stroke","#2B2B2B"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(r,"d","M33.7966 18L26.7858 25.4178"),f(r,"stroke","#2B2B2B"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(u,"class","input_arrow svelte-1r2qk57"),f(u,"width","44"),f(u,"height","44"),f(u,"viewBox","0 0 44 44"),f(u,"fill","none"),f(u,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","input-wrapper svelte-1r2qk57"),f(e,"style",s[4])},m(d,g){y(d,e,g),_&&_.m(e,null),p(e,i),p(e,t),h&&h.m(t,null),_e(t,s[0]),p(e,a),p(e,u),p(u,l),p(u,n),p(u,r),o||(c=K(t,"change",s[5]),o=!0)},p(d,[g]){d[2]?_?_.p(d,g):(_=de(d),_.c(),_.m(e,i)):_&&(_.d(1),_=null),d[3]?h?h.p(d,g):(h=pe(d),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g&2&&f(t,"id",d[1]),g&9&&_e(t,d[0]),g&16&&f(e,"style",d[4])},i:U,o:U,d(d){d&&m(e),_&&_.d(),h&&h.d(),o=!1,c()}}}function tt(s,e,i){let{id:t=Math.random()}=e,{label:a=null}=e,{list:u=[]}=e,{value:l}=e,{style:n=""}=e;function r(){l=Le(this),i(0,l),i(3,u)}return s.$$set=o=>{"id"in o&&i(1,t=o.id),"label"in o&&i(2,a=o.label),"list"in o&&i(3,u=o.list),"value"in o&&i(0,l=o.value),"style"in o&&i(4,n=o.style)},[l,t,a,u,n,r]}class Te extends X{constructor(e){super(),z(this,e,tt,et,R,{id:1,label:2,list:3,value:0,style:4})}}function ve(s,e,i){const t=s.slice();return t[4]=e[i],t[5]=e,t[6]=i,t}function ke(s){let e=[],i=new Map,t,a,u=s[1];const l=n=>n[4].id;for(let n=0;n<u.length;n+=1){let r=ve(s,u,n),o=l(r);i.set(o,e[n]=be(o,r))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=j()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);t=j()},m(n,r){for(let o=0;o<e.length;o+=1)e[o].m(n,r);y(n,t,r),a=!0},p(n,r){r&3&&(u=n[1],Y(),e=ae(e,r,l,1,n,u,i,t.parentNode,Be,be,t,ve),Z())},i(n){if(!a){for(let r=0;r<u.length;r+=1)v(e[r]);a=!0}},o(n){for(let r=0;r<e.length;r+=1)b(e[r]);a=!1},d(n){for(let r=0;r<e.length;r+=1)e[r].d(n);n&&m(t)}}}function lt(s){let e,i,t;function a(l){s[3](l,s[4])}let u={id:s[4].id,label:s[4].name,min:s[4].min,max:s[4].max};return s[0][s[4].id]!==void 0&&(u.value=s[0][s[4].id]),e=new He({props:u}),J.push(()=>Q(e,"value",a)),{c(){T(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){s=l;const r={};n&2&&(r.id=s[4].id),n&2&&(r.label=s[4].name),n&2&&(r.min=s[4].min),n&2&&(r.max=s[4].max),!i&&n&3&&(i=!0,r.value=s[0][s[4].id],W(()=>i=!1)),e.$set(r)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function nt(s){let e,i,t;function a(l){s[2](l,s[4])}let u={id:s[4].id,label:s[4].name,list:s[4].options,style:"margin-bottom: 32px;"};return s[0][s[4].id]!==void 0&&(u.value=s[0][s[4].id]),e=new Te({props:u}),J.push(()=>Q(e,"value",a)),{c(){T(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){s=l;const r={};n&2&&(r.id=s[4].id),n&2&&(r.label=s[4].name),n&2&&(r.list=s[4].options),!i&&n&3&&(i=!0,r.value=s[0][s[4].id],W(()=>i=!1)),e.$set(r)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){I(e,l)}}}function be(s,e){let i,t,a,u,l;const n=[nt,lt],r=[];function o(c,_){return c[4].type==="select"?0:c[4].type==="number"?1:-1}return~(t=o(e))&&(a=r[t]=n[t](e)),{key:s,first:null,c(){i=j(),a&&a.c(),u=j(),this.h()},l(c){i=j(),a&&a.l(c),u=j(),this.h()},h(){this.first=i},m(c,_){y(c,i,_),~t&&r[t].m(c,_),y(c,u,_),l=!0},p(c,_){e=c;let h=t;t=o(e),t===h?~t&&r[t].p(e,_):(a&&(Y(),b(r[h],1,1,()=>{r[h]=null}),Z()),~t?(a=r[t],a?a.p(e,_):(a=r[t]=n[t](e),a.c()),v(a,1),a.m(u.parentNode,u)):a=null)},i(c){l||(v(a),l=!0)},o(c){b(a),l=!1},d(c){c&&m(i),~t&&r[t].d(c),c&&m(u)}}}function it(s){let e,i,t=s[1]&&ke(s);return{c(){t&&t.c(),e=j()},l(a){t&&t.l(a),e=j()},m(a,u){t&&t.m(a,u),y(a,e,u),i=!0},p(a,[u]){a[1]?t?(t.p(a,u),u&2&&v(t,1)):(t=ke(a),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(Y(),b(t,1,1,()=>{t=null}),Z())},i(a){i||(v(t),i=!0)},o(a){b(t),i=!1},d(a){t&&t.d(a),a&&m(e)}}}function rt(s,e,i){let{settings:t}=e,{gameSettings:a}=e;function u(n,r){s.$$.not_equal(a[r.id],n)&&(a[r.id]=n,i(0,a))}function l(n,r){s.$$.not_equal(a[r.id],n)&&(a[r.id]=n,i(0,a))}return s.$$set=n=>{"settings"in n&&i(1,t=n.settings),"gameSettings"in n&&i(0,a=n.gameSettings)},[a,t,u,l]}class st extends X{constructor(e){super(),z(this,e,rt,it,R,{settings:1,gameSettings:0})}}function $e(s,e,i){const t=s.slice();return t[8]=e[i],t}function we(s){let e=[],i=new Map,t,a,u=s[2];const l=n=>n[8].id;for(let n=0;n<u.length;n+=1){let r=$e(s,u,n),o=l(r);i.set(o,e[n]=ye(o,r))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=j()},l(n){for(let r=0;r<e.length;r+=1)e[r].l(n);t=j()},m(n,r){for(let o=0;o<e.length;o+=1)e[o].m(n,r);y(n,t,r),a=!0},p(n,r){r&4&&(u=n[2],Y(),e=ae(e,r,l,1,n,u,i,t.parentNode,Be,ye,t,$e),Z())},i(n){if(!a){for(let r=0;r<u.length;r+=1)v(e[r]);a=!0}},o(n){for(let r=0;r<e.length;r+=1)b(e[r]);a=!1},d(n){for(let r=0;r<e.length;r+=1)e[r].d(n);n&&m(t)}}}function ye(s,e){let i,t,a;return t=new ze({props:{player:e[8]}}),{key:s,first:null,c(){i=j(),T(t.$$.fragment),this.h()},l(u){i=j(),N(t.$$.fragment,u),this.h()},h(){this.first=i},m(u,l){y(u,i,l),S(t,u,l),a=!0},p(u,l){e=u;const n={};l&4&&(n.player=e[8]),t.$set(n)},i(u){a||(v(t.$$.fragment,u),a=!0)},o(u){b(t.$$.fragment,u),a=!1},d(u){u&&m(i),I(t,u)}}}function at(s){var n;let e,i,t,a,u;e=new ue({props:{title:"\u0418\u0433\u0440\u043E\u043A\u0438",info:{text:s[3]?"":"\u041C\u0438\u043D. \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u043E\u0432: 2",title:(n=s[2])==null?void 0:n.length}}});let l=s[2]&&we(s);return a=new xe({}),{c(){T(e.$$.fragment),i=P(),l&&l.c(),t=P(),T(a.$$.fragment)},l(r){N(e.$$.fragment,r),i=q(r),l&&l.l(r),t=q(r),N(a.$$.fragment,r)},m(r,o){S(e,r,o),y(r,i,o),l&&l.m(r,o),y(r,t,o),S(a,r,o),u=!0},p(r,o){var _;const c={};o&12&&(c.info={text:r[3]?"":"\u041C\u0438\u043D. \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u043E\u0432: 2",title:(_=r[2])==null?void 0:_.length}),e.$set(c),r[2]?l?(l.p(r,o),o&4&&v(l,1)):(l=we(r),l.c(),v(l,1),l.m(t.parentNode,t)):l&&(Y(),b(l,1,1,()=>{l=null}),Z())},i(r){u||(v(e.$$.fragment,r),v(l),v(a.$$.fragment,r),u=!0)},o(r){b(e.$$.fragment,r),b(l),b(a.$$.fragment,r),u=!1},d(r){I(e,r),r&&m(i),l&&l.d(r),r&&m(t),I(a,r)}}}function ut(s){var r;let e,i,t,a,u;e=new ue({props:{title:"\u0422\u0438\u043F \u0438\u0433\u0440\u044B",info:{text:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430",href:(r=s[4])==null?void 0:r.rules}}});function l(o){s[7](o)}let n={id:"gameType",list:s[0]};return s[1]!==void 0&&(n.value=s[1]),t=new Te({props:n}),J.push(()=>Q(t,"value",l)),{c(){T(e.$$.fragment),i=P(),T(t.$$.fragment)},l(o){N(e.$$.fragment,o),i=q(o),N(t.$$.fragment,o)},m(o,c){S(e,o,c),y(o,i,c),S(t,o,c),u=!0},p(o,c){var d;const _={};c&16&&(_.info={text:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430",href:(d=o[4])==null?void 0:d.rules}),e.$set(_);const h={};c&1&&(h.list=o[0]),!a&&c&2&&(a=!0,h.value=o[1],W(()=>a=!1)),t.$set(h)},i(o){u||(v(e.$$.fragment,o),v(t.$$.fragment,o),u=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),u=!1},d(o){I(e,o),o&&m(i),I(t,o)}}}function ot(s){var u;let e,i,t,a;return e=new ue({props:{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"}}),t=new st({props:{settings:(u=s[4])==null?void 0:u.settings,gameSettings:s[5]}}),{c(){T(e.$$.fragment),i=P(),T(t.$$.fragment)},l(l){N(e.$$.fragment,l),i=q(l),N(t.$$.fragment,l)},m(l,n){S(e,l,n),y(l,i,n),S(t,l,n),a=!0},p(l,n){var o;const r={};n&16&&(r.settings=(o=l[4])==null?void 0:o.settings),t.$set(r)},i(l){a||(v(e.$$.fragment,l),v(t.$$.fragment,l),a=!0)},o(l){b(e.$$.fragment,l),b(t.$$.fragment,l),a=!1},d(l){I(e,l),l&&m(i),I(t,l)}}}function ft(s){let e,i,t,a,u,l,n,r;return e=new ie({props:{$$slots:{default:[at]},$$scope:{ctx:s}}}),t=new ie({props:{$$slots:{default:[ut]},$$scope:{ctx:s}}}),u=new ie({props:{$$slots:{default:[ot]},$$scope:{ctx:s}}}),n=new Ve({props:{value:"\u041D\u0430\u0447\u0430\u0442\u044C \u0438\u0433\u0440\u0443",style:"min-width: 230px",disabled:!s[3]}}),n.$on("click",s[6]),{c(){T(e.$$.fragment),i=P(),T(t.$$.fragment),a=P(),T(u.$$.fragment),l=P(),T(n.$$.fragment)},l(o){N(e.$$.fragment,o),i=q(o),N(t.$$.fragment,o),a=q(o),N(u.$$.fragment,o),l=q(o),N(n.$$.fragment,o)},m(o,c){S(e,o,c),y(o,i,c),S(t,o,c),y(o,a,c),S(u,o,c),y(o,l,c),S(n,o,c),r=!0},p(o,[c]){const _={};c&2060&&(_.$$scope={dirty:c,ctx:o}),e.$set(_);const h={};c&2067&&(h.$$scope={dirty:c,ctx:o}),t.$set(h);const d={};c&2064&&(d.$$scope={dirty:c,ctx:o}),u.$set(d);const g={};c&8&&(g.disabled=!o[3]),n.$set(g)},i(o){r||(v(e.$$.fragment,o),v(t.$$.fragment,o),v(u.$$.fragment,o),v(n.$$.fragment,o),r=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(u.$$.fragment,o),b(n.$$.fragment,o),r=!1},d(o){I(e,o),o&&m(i),I(t,o),o&&m(a),I(u,o),o&&m(l),I(n,o)}}}function ct(s){return s==null?void 0:s.reduce((e,i)=>x(C({},e),{[i.id]:i.default}),{})}function Ee(s,e){return s==null?void 0:s.find(i=>i.id===e)}function _t(s,e,i){var _;let t;De(s,oe,h=>i(2,t=h));let{gameTypes:a=[]}=e,u=(_=a[0])==null?void 0:_.id,l=!1,n=Ee(a,u),r=ct(n==null?void 0:n.settings);function o(){const h=n==null?void 0:n.settings.map(({id:$})=>$),d=h==null?void 0:h.reduce(($,L)=>x(C({},$),{[L]:r[L]||null}),{}),g=Object.keys(d).reduce(($,L)=>{const D=n.settings.find(({id:O})=>O===L);return D.type==="number"?$:x(C({},$),{[D.forInfo]:D.options.find(({id:O})=>O===d[L]).value})},{}),E={id:Date.now(),gameId:u,settings:d,players:t==null?void 0:t.map($=>C(C(C({},$),n.playersInitialData),g))};Ge.set(E)}function c(h){u=h,i(1,u)}return s.$$set=h=>{"gameTypes"in h&&i(0,a=h.gameTypes)},s.$$.update=()=>{s.$$.dirty&4&&i(3,l=(t==null?void 0:t.length)>1),s.$$.dirty&3&&i(4,n=Ee(a,u))},[a,u,t,l,n,r,o,c]}class vt extends X{constructor(e){super(),z(this,e,_t,ft,R,{gameTypes:0})}}export{vt as default};
